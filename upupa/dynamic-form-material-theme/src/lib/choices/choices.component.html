@if(label){<mat-label>{{label}}</mat-label>}
@if(template === 'normal'){
@if(!maxAllowed || maxAllowed > 1){
<div class="{{direction}} {{template}} choices" (focusleave)="onTouch()">
    @for(item of items$ | async; track item.key){
    <mat-checkbox class="choice" (change)="toggle(item.key);valueChanged(selectionModel.selected)"
        [checked]="selectionModel.isSelected(item.key)">
        <paragraph [text]="item.display + ''" [renderer]="renderer"></paragraph>
    </mat-checkbox>
    }
</div>
}@else{
<mat-radio-group (focusleave)="onTouch()" class="{{direction}} {{template}} choices" [(ngModel)]="selected"
    (ngModelChange)="valueChanged($event)">
    @for(item of items$ | async; track item.key){
    <mat-radio-button class="choice" [value]="item.key">
        <paragraph [text]="item.display + ''" [renderer]="renderer"></paragraph>
    </mat-radio-button>
    }
</mat-radio-group>
}
}
@else {
<div class="{{direction}} {{template}} choices" (focusleave)="onTouch()" tabindex="0">
    @for(item of items$ | async; track item.key){
    <button type="button" [style.width]="thumbSize+'px'" [style.height]="thumbSize+'px'" class="choice"
        (click)="toggle(item.key);valueChanged(selectionModel.selected)">
        <img *ngIf="item.image" style="width: 100%; height: 100%; object-fit: contain; object-position: center; padding: 20%;
            box-sizing: border-box;" [src]="item.image" alt="{{item.display}}">
        <mat-icon *ngIf="selectionModel.isSelected(item.key)">check</mat-icon>
    </button>
    }
</div>
}
<mat-hint *ngIf="hint?.length > 0">{{hint | text}}</mat-hint>