<fieldset>
    @if (label()) {
        <legend>{{ label() }}</legend>
    }
    @if (adapter) {
        <data-table
            #dataTable
            [lazyLoadData]="false"
            [name]="name()"
            [columns]="columns()"
            [adapter]="adapter"
            (itemAdded)="updateValueFromDataSource($event)"
            (itemRemoved)="updateValueFromDataSource($event)"
            (itemUpdated)="updateValueFromDataSource($event)"
            (sortChange)="updateValueFromDataSource($event)"
            (sortChange)="updateValueFromDataSource($event)"
            [rowClass]="rowClass()"
        >
            @if (tableHeaderComponent(); as template) {
                <portal
                    class="table-header"
                    [component]="template.component"
                    [inputs]="template.inputs"
                    [outputs]="template.outputs"
                    [content]="template.content"
                    [injector]="template.injector"
                    [className]="template.class"
                    (attached)="onTableHeaderAttached($event)"
                ></portal>
            } @else {
                <ng-content class="table-header"></ng-content>
            }
        </data-table>
    }
</fieldset>
