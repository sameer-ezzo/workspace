@if (showSearch()) {
    <div class="search-box-wrapper">
        <input
            style="background: transparent; outline: none; border: none; display: flex; flex: 1"
            placeholder="Search"
            [(ngModel)]="q"
            (input)="onFilter()"
            (keydown.enter)="_doFilter(q())"
        />
        <button mat-icon-button (click)="_doFilter(q())">
            <mat-icon>search</mat-icon>
        </button>
    </div>
}

@for (com of components(); track $index) {
    @if (com == "spacer") {
        <span style="flex: 1 1 auto"></span>
    } @else {
        <portal [component]="com['component']" [inputs]="com.inputs" [outputs]="com['outputs']" (attached)="onAttached($event, $index)"></portal>
    }
} @empty {
    <span style="flex: 1 1 auto"></span>
    <div style="display: flex; align-items: center">
        @for (template of inlineEndSlot() ?? []; track $index) {
            <portal [component]="template['component']" [inputs]="template.inputs" [outputs]="template['outputs']" (attached)="onAttached($event, $index)"></portal>
        }
        <ng-content select></ng-content>
    </div>
}
