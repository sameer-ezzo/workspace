@if (design()?.bgImage?.url) {
    <div
        class="cbgi"
        [ngStyle]="{ 'background-image': 'url(' + design().bgImage.url + ')' }"
        [style.background-position]="design().bgImage.position"
        [style.background-repeat]="design().bgImage.repeat"
        [style.background-size]="design().bgImage.size"
    ></div>
}

<div class="qs-wrapper">
    <dynamic-form
        #dynForm
        [fields]="fields()"
        [(value)]="value"
        [conditions]="conditions()"
        [name]="name()"
        (submit)="onSubmit()"
        (fieldValueChange)="_checkPageInvalid(activePage()); propagateChange(); fieldValueChange.emit($event)"
    >
    </dynamic-form>
</div>
<div class="form-actions">
    @if (nextBtn() && canGoNext()) {
        <mat-btn [buttonDescriptor]="nextBtn()" (action)="next()"></mat-btn>
    }
    @if (prevBtn() && canGoPrev()) {
        <mat-btn [buttonDescriptor]="prevBtn()" (action)="prev()"></mat-btn>
    }
    @if (submitBtn()) {
        <mat-btn [disabled]="_pageInvalid() || loading() || (form().invalid && form().touched)" [buttonDescriptor]="submitBtn()" (action)="onSubmit()"></mat-btn>
    }
    @for (act of actions(); track act) {
        <mat-btn [buttonDescriptor]="act" (action)="actionClicked(act)"></mat-btn>
    }
</div>
