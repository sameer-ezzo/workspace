<!-- label -->
@if (label()) {
    <label style="margin-block: 0.5rem 1rem">{{ label() }}</label>
}
@let _vm = viewModel();
@if(logo()){
    <div class="logo-holder">
        <img [src]="logo()" alt="">
    </div>
}
<dynamic-form
    class="form-wrapper"
    #dynForm
    [(value)]="value"
    [fields]="_vm.fields"
    (fieldValueChange)="onValueChange($event)"
    (initialized)="onInitialized($event)"
    [name]="formName()"
    [class]="_vm.class"
    [preventDirtyUnload]="_vm.preventDirtyUnload"
    [theme]="_vm.theme"
    [conditions]="_vm.conditions"
    (submitted)="onSubmit($event)"
    [control]="control()"
></dynamic-form>
<!-- [formGroup]="control()" -->
@if (actions()?.length) {
    <div class="toolbar">
        @for (descriptor of actions(); track descriptor.name) {
            @if (descriptor.type == "submit") {
                <mat-btn
                    [buttonDescriptor]="descriptor"
                    [loading]="submitting()"
                    (action)="dynForm.submit()"
                    [disabled]="this.submitting() || (dynForm.invalid && (dynForm.dirty || dynForm.touched))"
                >
                </mat-btn>
            } @else {
                <mat-btn [buttonDescriptor]="descriptor" (action)="onAction($event)"></mat-btn>
            }
        }
    </div>
}
